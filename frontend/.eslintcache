[{"C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\index.js":"1","C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\App.js":"2","C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\reportWebVitals.js":"3","C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\redux\\store.js":"4","C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\util\\darkTheme.js":"5","C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\util\\lightTheme.js":"6","C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\util\\AuthRoute.js":"7","C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\util\\UploadAvatar.js":"8","C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\util\\Spinner.js":"9","C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\util\\ToggleTheme.js":"10","C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\Components\\Login.js":"11","C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\Components\\Mui.js":"12","C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\redux\\reducers\\userReducer.js":"13","C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\redux\\reducers\\socketReducer.js":"14","C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\redux\\reducers\\chatMessageReducer.js":"15","C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\redux\\reducers\\themeReducer.js":"16","C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\redux\\types.js":"17","C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\Components\\ChatHeader.js":"18","C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\Components\\ChatUserData.js":"19","C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\Components\\ChatMessageArea.js":"20","C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\Components\\ChatFriendsList.js":"21","C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\Components\\ChatInput.js":"22","C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\redux\\actions\\chatMessageActions.js":"23","C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\redux\\actions\\userActions.js":"24","C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\redux\\actions\\authActions.js":"25","C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\config\\axios.js":"26","C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\util\\joinChatRoomModal.js":"27","C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\util\\helperFunctions.js":"28","C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\util\\CreateGroupModal.js":"29","C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\util\\StyledBadge.js":"30","C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\Components\\GroupChat.js":"31"},{"size":660,"mtime":1620288489780,"results":"32","hashOfConfig":"33"},{"size":1584,"mtime":1620288489771,"results":"34","hashOfConfig":"33"},{"size":375,"mtime":1620288489785,"results":"35","hashOfConfig":"33"},{"size":794,"mtime":1620288489784,"results":"36","hashOfConfig":"33"},{"size":1984,"mtime":1620288489789,"results":"37","hashOfConfig":"33"},{"size":1847,"mtime":1620288489791,"results":"38","hashOfConfig":"33"},{"size":3668,"mtime":1620317672526,"results":"39","hashOfConfig":"33"},{"size":2893,"mtime":1620288489789,"results":"40","hashOfConfig":"33"},{"size":158,"mtime":1620288489787,"results":"41","hashOfConfig":"33"},{"size":1333,"mtime":1620288489788,"results":"42","hashOfConfig":"33"},{"size":4309,"mtime":1620288489776,"results":"43","hashOfConfig":"33"},{"size":3083,"mtime":1620288489776,"results":"44","hashOfConfig":"33"},{"size":2882,"mtime":1620288489784,"results":"45","hashOfConfig":"33"},{"size":413,"mtime":1620288489783,"results":"46","hashOfConfig":"33"},{"size":9157,"mtime":1620378248350,"results":"47","hashOfConfig":"33"},{"size":445,"mtime":1620288489783,"results":"48","hashOfConfig":"33"},{"size":2275,"mtime":1620375474140,"results":"49","hashOfConfig":"33"},{"size":4948,"mtime":1620290420702,"results":"50","hashOfConfig":"33"},{"size":3079,"mtime":1620288489775,"results":"51","hashOfConfig":"33"},{"size":10514,"mtime":1620380267610,"results":"52","hashOfConfig":"33"},{"size":19543,"mtime":1620381626920,"results":"53","hashOfConfig":"33"},{"size":1995,"mtime":1620288489773,"results":"54","hashOfConfig":"33"},{"size":9956,"mtime":1620378863569,"results":"55","hashOfConfig":"33"},{"size":1449,"mtime":1620288489782,"results":"56","hashOfConfig":"33"},{"size":775,"mtime":1620288489781,"results":"57","hashOfConfig":"33"},{"size":207,"mtime":1620288489778,"results":"58","hashOfConfig":"33"},{"size":11623,"mtime":1620288520303,"results":"59","hashOfConfig":"33"},{"size":416,"mtime":1620288489790,"results":"60","hashOfConfig":"33"},{"size":9529,"mtime":1620288489787,"results":"61","hashOfConfig":"33"},{"size":751,"mtime":1620288489788,"results":"62","hashOfConfig":"33"},{"size":3508,"mtime":1620381276774,"results":"63","hashOfConfig":"33"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},"qwef3d",{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"79","usedDeprecatedRules":"66"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"90","usedDeprecatedRules":"66"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"107","messages":"108","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"119","messages":"120","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"121","usedDeprecatedRules":"66"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"124","usedDeprecatedRules":"66"},{"filePath":"125","messages":"126","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"127","usedDeprecatedRules":"66"},{"filePath":"128","messages":"129","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"66"},{"filePath":"130","messages":"131","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\index.js",[],["132","133"],"C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\App.js",[],"C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\reportWebVitals.js",[],"C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\redux\\store.js",[],"C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\util\\darkTheme.js",[],"C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\util\\lightTheme.js",[],"C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\util\\AuthRoute.js",["134"],"// Redux\r\nimport { connect, useDispatch } from 'react-redux';\r\n\r\n// Actions\r\nimport { getCurrentLoggedInUser } from '../redux/actions/authActions';\r\nimport { updateConnectedUserList } from '../redux/actions/userActions';\r\nimport { getAllUserChatRooms } from '../redux/actions/chatMessageActions';\r\n\r\n// React Router DOM\r\nimport { Redirect, Route } from 'react-router-dom';\r\n\r\n// Components\r\nimport Spinner from './Spinner';\r\n\r\nimport { useEffect } from 'react';\r\n\r\n// Socket io\r\nimport {\r\n  USER_CONNECTED,\r\n  USER_DISCONNECTED,\r\n  SEND_USER_SOCKET,\r\n  SEND_BACK_USER_SOCKET,\r\n  UPDATE_USERS_WITH_SOCKETS,\r\n} from '../redux/types';\r\n\r\n// When we specify an Authroute:\r\n//  - getCurrentLoggedInUser checks if the user is logged in. (componentDidMount)\r\n//  - When the user is loading, show a spinner\r\n//  - When the user is loaded, socket.emit USER_CONNECTED to the server.\r\n//  - When props.user._id === true, it means the user is logged in. Render the passed in component (props.component)\r\n//  - When props.user._id === false, it means the user is not logged in. redirect to /login\r\n\r\nconst AuthRoute = props => {\r\n  const {\r\n    getCurrentLoggedInUser,\r\n    getAllUserChatRooms,\r\n    updateConnectedUserList,\r\n    socket,\r\n    user,\r\n  } = props;\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  // componentDidMount\r\n  useEffect(() => {\r\n    getCurrentLoggedInUser();\r\n  }, [getCurrentLoggedInUser]);\r\n\r\n  // Connected user list\r\n  useEffect(() => {\r\n    // When the user is set, emit the user to the backend, where the user is added to the connected userList.\r\n    if (user._id) {\r\n      // Get all the chatRooms the user is a member of when the user is set\r\n      getAllUserChatRooms(`members=${user._id}`);\r\n\r\n      socket.emit(USER_CONNECTED, user);\r\n      console.log(socket.id);\r\n      // socket.emit(SEND_USER_SOCKET, { user: { ...user, socketId: socket.id } });\r\n      console.log('user is set');\r\n\r\n      // Receive the connected users userList from the backend\r\n      socket.on(USER_CONNECTED, userListFromBackend => {\r\n        console.log('USER CONNECTED ðŸ§™â€â™‚ï¸');\r\n        console.log(userListFromBackend);\r\n        // TODO dispatch action to update props.connectedUsers\r\n        updateConnectedUserList(userListFromBackend);\r\n        socket.emit(SEND_USER_SOCKET, { user: { ...user, socketId: socket.id } });\r\n      });\r\n\r\n      // Receive the updated connected users userList from the backend\r\n      socket.on(USER_DISCONNECTED, userListFromBackend => {\r\n        console.log(userListFromBackend);\r\n        // TODO dispatch action to update props.connectedUsers\r\n        updateConnectedUserList(userListFromBackend);\r\n      });\r\n\r\n      if (socket._callbacks !== undefined && socket._callbacks['$SEND_BACK_USER_SOCKET']) {\r\n        socket._callbacks['$SEND_BACK_USER_SOCKET'].length = 0;\r\n      }\r\n\r\n      socket.on(SEND_BACK_USER_SOCKET, userAndSocket => {\r\n        console.log(socket);\r\n        console.log(userAndSocket);\r\n        dispatch({ type: UPDATE_USERS_WITH_SOCKETS, payload: userAndSocket });\r\n      });\r\n    }\r\n  }, [updateConnectedUserList, socket, user, getAllUserChatRooms]);\r\n\r\n  // Render\r\n  return (\r\n    <Route\r\n      render={() =>\r\n        props.loading ? (\r\n          <Spinner />\r\n        ) : props.user._id ? (\r\n          <props.component />\r\n        ) : (\r\n          <Redirect to='/login' />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    socket: state.socket.socket,\r\n    user: state.user.user,\r\n    loading: state.user.loading,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  getCurrentLoggedInUser,\r\n  updateConnectedUserList,\r\n  getAllUserChatRooms,\r\n})(AuthRoute);\r\n","C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\util\\UploadAvatar.js",[],"C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\util\\Spinner.js",[],"C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\util\\ToggleTheme.js",[],"C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\Components\\Login.js",[],"C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\Components\\Mui.js",["135"],"import { useState, useEffect } from 'react';\r\n\r\n// Redux\r\nimport { connect } from 'react-redux';\r\nimport { getAllChatMessages } from '../redux/actions/chatMessageActions';\r\n\r\n// Components\r\nimport ChatUserData from './ChatUserData';\r\nimport ChatHeader from './ChatHeader';\r\nimport ChatFriendList from './ChatFriendsList';\r\nimport ChatMessageArea from './ChatMessageArea';\r\nimport ChatInput from './ChatInput';\r\n\r\n// MUI\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  userData: {\r\n    backgroundColor: theme.palette.primary.main,\r\n    borderRight: '1px solid lightgrey',\r\n    borderBottom: '1px solid lightgrey',\r\n  },\r\n  header: {\r\n    backgroundColor: theme.palette.primary.main,\r\n    flex: 1,\r\n    borderBottom: '1px solid lightgrey',\r\n  },\r\n  list: {\r\n    minHeight: '85vh',\r\n    height: '821px',\r\n    overflowX: 'hidden',\r\n    overflowY: 'auto',\r\n    borderRight: '1px solid lightgrey',\r\n    borderBottom: '1px solid lightgrey',\r\n  },\r\n  chatMessages: {\r\n    height: '64vh',\r\n    overflowY: 'auto',\r\n    borderBottom: '1px solid lightgrey',\r\n  },\r\n  input: {\r\n    paddingTop: 60,\r\n    padding: 60,\r\n    borderBottom: '1px solid lightgrey',\r\n  },\r\n}));\r\n\r\nconst Mui = props => {\r\n  console.log(props);\r\n  const theme = useTheme();\r\n  const classes = useStyles(theme);\r\n  const [skip, setSkip] = useState(props.chatMessages.length);\r\n\r\n  useEffect(() => {\r\n    setSkip(props.chatMessages.length);\r\n    console.log(props.chatMessages.length);\r\n    console.log(skip);\r\n  }, [props.activeChatRoom, props.chatMessages.length]);\r\n\r\n  const handleScroll = e => {\r\n    let { scrollTop } = e.target;\r\n\r\n    // ALs de result meer dan 0 is\r\n    if (scrollTop === 0 && props.chatMessages.length >= 10) {\r\n      console.log('setSkip');\r\n      console.log(skip);\r\n      console.log(props.chatMessages.length);\r\n      setSkip(props.chatMessages.length);\r\n      props.getAllChatMessages(props.activeChatRoom._id, skip);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Grid container>\r\n        {/* User Data */}\r\n        <Grid item xs={3} className={classes.userData}>\r\n          <ChatUserData />\r\n        </Grid>\r\n        <Grid item xs={9} className={classes.header}>\r\n          <ChatHeader />\r\n        </Grid>\r\n      </Grid>\r\n\r\n      {/* Friends list */}\r\n      <Grid item container xs={12}>\r\n        <Grid item xs={3} className={classes.list}>\r\n          <ChatFriendList />\r\n        </Grid>\r\n\r\n        {/* Chat Messages */}\r\n        <Grid item container xs={9} md={9}>\r\n          <Grid item xs={12} className={classes.chatMessages} onScroll={handleScroll}>\r\n            <ChatMessageArea />\r\n          </Grid>\r\n          <Grid item xs={12} className={classes.input}>\r\n            <ChatInput />\r\n          </Grid>\r\n        </Grid>\r\n      </Grid>\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    activeChatRoom: state.chat.activeChatRoom,\r\n    chatMessages: state.chat.chatMessages,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { getAllChatMessages })(Mui);\r\n","C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\redux\\reducers\\userReducer.js",[],"C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\redux\\reducers\\socketReducer.js",[],"C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\redux\\reducers\\chatMessageReducer.js",["136","137"],"C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\redux\\reducers\\themeReducer.js",[],"C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\redux\\types.js",[],"C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\Components\\ChatHeader.js",[],"C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\Components\\ChatUserData.js",[],"C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\Components\\ChatMessageArea.js",["138","139"],"C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\Components\\ChatFriendsList.js",["140","141","142","143","144","145","146","147","148"],"C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\Components\\ChatInput.js",[],"C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\redux\\actions\\chatMessageActions.js",["149"],"C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\redux\\actions\\userActions.js",[],"C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\redux\\actions\\authActions.js",[],"C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\config\\axios.js",[],"C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\util\\joinChatRoomModal.js",["150","151","152","153"],"import { useEffect, useState } from 'react';\r\n\r\n// Redux\r\nimport { connect, useDispatch } from 'react-redux';\r\n\r\n// Redux chatMessage actions\r\nimport { updateChatRoom } from '../redux/actions/chatMessageActions';\r\n\r\n// Types\r\nimport { SET_ERRORS, ADDED_USERS_TO_CHATROOM } from '../redux/types';\r\n\r\n// Helper\r\nimport { firstCharUpperCase } from '../util/helperFunctions';\r\n\r\n// MUI\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Button from '@material-ui/core/Button';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    margin: 'auto',\r\n    width: 'fit-content',\r\n    border: 'none',\r\n    outline: 'none',\r\n  },\r\n  cardHeader: {\r\n    padding: theme.spacing(1, 2),\r\n  },\r\n  list: {\r\n    width: 300,\r\n    height: '50vh',\r\n    backgroundColor: theme.palette.background.paper,\r\n    overflow: 'auto',\r\n  },\r\n  button: {\r\n    margin: theme.spacing(0.5, 0),\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n  input: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n\r\n    '& > *': {\r\n      margin: theme.spacing(1),\r\n      width: '25ch',\r\n    },\r\n  },\r\n}));\r\n\r\nfunction not(a, b) {\r\n  return a.filter(value => b.indexOf(value) === -1);\r\n}\r\n\r\nfunction intersection(a, b) {\r\n  return a.filter(value => b.indexOf(value) !== -1);\r\n}\r\n\r\nfunction union(a, b) {\r\n  return [...a, ...not(b, a)];\r\n}\r\n\r\nconst JoinChatRoomModal = props => {\r\n  const dispatch = useDispatch();\r\n  const classes = useStyles();\r\n  const [open, setOpen] = useState(false);\r\n  const [checked, setChecked] = useState([]);\r\n  const [left, setLeft] = useState([]);\r\n  const [right, setRight] = useState([]);\r\n\r\n  const leftChecked = intersection(checked, left);\r\n  const rightChecked = intersection(checked, right);\r\n\r\n  const { socket } = props;\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n    setRight([]);\r\n  };\r\n\r\n  const handleToggle = value => () => {\r\n    const currentIndex = checked.indexOf(value);\r\n    const newChecked = [...checked];\r\n\r\n    if (currentIndex === -1) {\r\n      newChecked.push(value);\r\n    } else {\r\n      newChecked.splice(currentIndex, 1);\r\n    }\r\n\r\n    setChecked(newChecked);\r\n  };\r\n\r\n  const numberOfChecked = items => intersection(checked, items).length;\r\n\r\n  const handleToggleAll = items => () => {\r\n    if (numberOfChecked(items) === items.length) {\r\n      setChecked(not(checked, items));\r\n    } else {\r\n      setChecked(union(checked, items));\r\n    }\r\n  };\r\n\r\n  const handleCheckedRight = () => {\r\n    setRight(right.concat(leftChecked));\r\n    setLeft(not(left, leftChecked));\r\n    setChecked(not(checked, leftChecked));\r\n  };\r\n\r\n  const handleCheckedLeft = () => {\r\n    setLeft(left.concat(rightChecked));\r\n    setRight(not(right, rightChecked));\r\n    setChecked(not(checked, rightChecked));\r\n  };\r\n\r\n  // Add users to left item list ComponentDidMount\r\n  useEffect(() => {\r\n    console.log('Add users left');\r\n    let users = [...props.users];\r\n    let indexes = [];\r\n\r\n    console.log(users);\r\n    console.log(props.users);\r\n    console.log(props.activeChatRoom.members);\r\n\r\n    // If a user is already member of the chatroom, splice the user from the selectable userlist\r\n    for (let i = 0; i < users.length; i++) {\r\n      //   console.log(users[i]._id);\r\n      for (let j = 0; j < props.activeChatRoom.members.length; j++) {\r\n        if (users[i]._id === props.activeChatRoom.members[j]._id) {\r\n          // console.log(users[i]);\r\n          console.log(props.activeChatRoom.members[j]);\r\n\r\n          console.log(users.indexOf(users[i]));\r\n          indexes.push(users.indexOf(users[i]));\r\n\r\n          // splice at the index where the id's match\r\n          // console.log(users.splice(users.indexOf(users[i]), 1));\r\n        }\r\n      }\r\n    }\r\n\r\n    console.log(indexes);\r\n\r\n    // Remove indexes\r\n    function spliceUserIndexes(arr) {\r\n      let remove = indexes;\r\n      for (let i = remove.length - 1; i >= 0; i--) {\r\n        arr.splice(remove[i], 1);\r\n      }\r\n    }\r\n\r\n    spliceUserIndexes(users);\r\n    setLeft(users);\r\n    console.log(users);\r\n  }, [open]);\r\n\r\n  //   Enable the submit button when 2 or more users are selected, + add current user\r\n  const handleSubmit = (e, selectedUsers) => {\r\n    e.preventDefault();\r\n    // console.log(groupName);\r\n    let socketIds = [];\r\n    let selectedUsersMinusMembers = [...selectedUsers];\r\n    selectedUsers = [...props.activeChatRoom.members, ...selectedUsers];\r\n\r\n    // geselecteerde users zonder hudige members\r\n    console.log(selectedUsersMinusMembers);\r\n\r\n    // online users's objects containing their socket ids so we can add them to the socket.room on the server side\r\n    console.log(props.usersWithSockets);\r\n\r\n    props.usersWithSockets.map((user, i) => {\r\n      // console.log(user.user._id);\r\n      selectedUsersMinusMembers.findIndex((selUser, j) => {\r\n        // console.log(selUser);\r\n        if (user.user._id === selUser._id) {\r\n          console.log(user.user);\r\n          socketIds.push(user.user.socketId);\r\n        }\r\n      });\r\n    });\r\n\r\n    console.log('socketIds of online users added to the chatroom. add to socket.room on server');\r\n    console.log(socketIds);\r\n\r\n    // geselecteerde members inclusief huidige members\r\n    // console.log(selectedUsers);\r\n\r\n    // Huidige members already present in room\r\n    // console.log(props.activeChatRoom.members);\r\n\r\n    if (selectedUsers.length > 10) {\r\n      alert('Groep heeft teveel leden (max 10)');\r\n      return dispatch({ type: SET_ERRORS, payload: 'Groep heeft teveel leden (max 10)' });\r\n    }\r\n\r\n    // selectedUsers.forEach(user => {\r\n    //   console.log(user._id);\r\n    // });\r\n\r\n    props.updateChatRoom(\r\n      socket,\r\n      props.activeChatRoom._id,\r\n      socketIds,\r\n      selectedUsers.map(user => user._id),\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (socket._callbacks !== undefined && socket._callbacks['$ADDED_USERS_TO_CHATROOM']) {\r\n      socket._callbacks['$ADDED_USERS_TO_CHATROOM'].length = 0;\r\n    }\r\n\r\n    socket.on(ADDED_USERS_TO_CHATROOM, data => {\r\n      console.log('ADDED_USERS_TO_CHATROOM');\r\n      console.log(data);\r\n      handleClose();\r\n      dispatch({ type: ADDED_USERS_TO_CHATROOM, payload: { data } });\r\n    });\r\n  }, [props.chatRooms]);\r\n\r\n  const customList = (title, items) => {\r\n    return (\r\n      <Card>\r\n        <CardHeader\r\n          className={classes.cardHeader}\r\n          avatar={\r\n            <Checkbox\r\n              onClick={handleToggleAll(items)}\r\n              checked={numberOfChecked(items) === items.length && items.length !== 0}\r\n              indeterminate={\r\n                numberOfChecked(items) !== items.length && numberOfChecked(items) !== 0\r\n              }\r\n              disabled={items.length === 0}\r\n              inputProps={{ 'aria-label': 'all items selected' }}\r\n            />\r\n          }\r\n          title={title}\r\n          subheader={`${numberOfChecked(items)}/${items.length} geselecteerd`}\r\n        />\r\n        <Divider />\r\n        <List className={classes.list} dense component='div' role='list'>\r\n          {items.map(value => {\r\n            const labelId = `transfer-list-all-item-${value}-label`;\r\n\r\n            return (\r\n              <ListItem key={value._id} role='listitem' button onClick={handleToggle(value)}>\r\n                <ListItemIcon>\r\n                  <Avatar src={value.avatar}></Avatar>\r\n                </ListItemIcon>\r\n                <ListItemText id={labelId} primary={firstCharUpperCase(value.username)} />\r\n                <Checkbox\r\n                  checked={checked.indexOf(value) !== -1}\r\n                  tabIndex={-1}\r\n                  disableRipple\r\n                  inputProps={{ 'aria-labelledby': labelId }}\r\n                />\r\n              </ListItem>\r\n            );\r\n          })}\r\n          <ListItem />\r\n        </List>\r\n      </Card>\r\n    );\r\n  };\r\n\r\n  const modalBody = (\r\n    <>\r\n      <Grid container spacing={2} justify='center' alignItems='center' className={classes.root}>\r\n        <Grid item>\r\n          {customList(`Groep heeft ${props.activeChatRoom.members.length} leden (max 10)`, left)}\r\n        </Grid>\r\n        <Grid item>\r\n          <Grid container direction='column' alignItems='center'>\r\n            <Button\r\n              variant='outlined'\r\n              size='small'\r\n              className={classes.button}\r\n              onClick={handleCheckedRight}\r\n              disabled={leftChecked.length === 0}\r\n              aria-label='move selected right'>\r\n              &gt;\r\n            </Button>\r\n            <Button\r\n              variant='outlined'\r\n              size='small'\r\n              className={classes.button}\r\n              onClick={handleCheckedLeft}\r\n              disabled={rightChecked.length === 0}\r\n              aria-label='move selected left'>\r\n              &lt;\r\n            </Button>\r\n          </Grid>\r\n        </Grid>\r\n        <Grid item>\r\n          {customList(\r\n            `selecteer maximaal ${10 - props.activeChatRoom.members.length} leden`,\r\n            right,\r\n          )}\r\n        </Grid>\r\n      </Grid>\r\n\r\n      {/* Form */}\r\n      <form\r\n        onSubmit={e => {\r\n          console.log('submit add users to group');\r\n          handleSubmit(e, right);\r\n        }}\r\n        className={classes.input}\r\n        noValidate\r\n        autoComplete='off'>\r\n        {/* <TextField\r\n          value={groupName}\r\n          onChange={e => {\r\n            dispatch({ type: CLEAR_ERRORS });\r\n            setGroupName(e.target.value);\r\n          }}\r\n          id='standard-basic'\r\n          label='Groepsnaam'\r\n          error={props.errors && props.errors.length > 0 ? true : false}\r\n          helperText={\r\n            props.errors && props.errors.length > 0 ? props.errors[props.errors.length - 1] : ''\r\n          }\r\n        /> */}\r\n        <Button\r\n          disabled={right.length >= 1 ? false : true}\r\n          onClick={e => {\r\n            console.log('submit add users to group');\r\n            handleSubmit(e, right);\r\n          }}\r\n          variant='contained'\r\n          color='primary'>\r\n          toevoegen\r\n        </Button>\r\n      </form>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <MenuItem\r\n        onClick={handleOpen}\r\n        disabled={props.activeChatRoom.moderator !== props.user._id ? true : false}>\r\n        Gebruiker(s) toevoegen\r\n      </MenuItem>\r\n\r\n      <div>\r\n        <Modal\r\n          className={classes.modal}\r\n          open={open}\r\n          onClose={handleClose}\r\n          aria-labelledby='simple-modal-title'\r\n          aria-describedby='simple-modal-description'>\r\n          {modalBody}\r\n        </Modal>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    socket: state.socket.socket,\r\n    user: state.user.user,\r\n    users: state.user.users,\r\n    usersWithSockets: state.user.usersWithSockets,\r\n    activeChatRoom: state.chat.activeChatRoom,\r\n    errors: state.user.errors,\r\n    theme: state.theme.theme,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { updateChatRoom })(JoinChatRoomModal);\r\n","C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\util\\helperFunctions.js",["154"],"export const firstCharUpperCase = string => string.slice(0, 1)[0].toUpperCase() + string.slice(1);\r\n\r\nfunction hasDuplicates(arr) {\r\n  return arr.some(x => arr.indexOf(x) !== arr.lastIndexOf(x));\r\n}\r\n\r\n// Remove indexes\r\n// let indexes = [0, 6, 8]\r\n// function spliceUserIndexes(arr) {\r\n//   let remove = indexes;\r\n//   for (let i = remove.length - 1; i >= 0; i--) {\r\n//     arr.splice(remove[i], 1);\r\n//   }\r\n// }\r\n","C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\util\\CreateGroupModal.js",["155"],"import { useEffect, useState } from 'react';\r\n\r\n// Redux\r\nimport { connect, useDispatch } from 'react-redux';\r\n\r\n// Redux chatMessage actions\r\nimport { createChatRoom } from '../redux/actions/chatMessageActions';\r\n\r\n// Helper\r\nimport { firstCharUpperCase } from '../util/helperFunctions';\r\n\r\n// MUI\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport GroupAddIcon from '@material-ui/icons/GroupAdd';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Button from '@material-ui/core/Button';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { CLEAR_ERRORS, SET_ERRORS } from '../redux/types';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    margin: 'auto',\r\n    width: 'fit-content',\r\n    border: 'none',\r\n    outline: 'none',\r\n  },\r\n  cardHeader: {\r\n    padding: theme.spacing(1, 2),\r\n  },\r\n  list: {\r\n    width: 300,\r\n    height: '50vh',\r\n    backgroundColor: theme.palette.background.paper,\r\n    overflow: 'auto',\r\n  },\r\n  button: {\r\n    margin: theme.spacing(0.5, 0),\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n  input: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n\r\n    '& > *': {\r\n      margin: theme.spacing(1),\r\n      width: '25ch',\r\n    },\r\n  },\r\n}));\r\n\r\nfunction not(a, b) {\r\n  return a.filter(value => b.indexOf(value) === -1);\r\n}\r\n\r\nfunction intersection(a, b) {\r\n  return a.filter(value => b.indexOf(value) !== -1);\r\n}\r\n\r\nfunction union(a, b) {\r\n  return [...a, ...not(b, a)];\r\n}\r\n\r\nconst CreateGroupModal = props => {\r\n  const dispatch = useDispatch();\r\n  const classes = useStyles();\r\n  const [open, setOpen] = useState(false);\r\n  const [checked, setChecked] = useState([]);\r\n  const [left, setLeft] = useState([]);\r\n  const [right, setRight] = useState([]);\r\n  const [groupName, setGroupName] = useState('');\r\n\r\n  const leftChecked = intersection(checked, left);\r\n  const rightChecked = intersection(checked, right);\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n    setRight([]);\r\n  };\r\n\r\n  const handleToggle = value => () => {\r\n    const currentIndex = checked.indexOf(value);\r\n    const newChecked = [...checked];\r\n\r\n    if (currentIndex === -1) {\r\n      newChecked.push(value);\r\n    } else {\r\n      newChecked.splice(currentIndex, 1);\r\n    }\r\n\r\n    setChecked(newChecked);\r\n  };\r\n\r\n  const numberOfChecked = items => intersection(checked, items).length;\r\n\r\n  const handleToggleAll = items => () => {\r\n    if (numberOfChecked(items) === items.length) {\r\n      setChecked(not(checked, items));\r\n    } else {\r\n      setChecked(union(checked, items));\r\n    }\r\n  };\r\n\r\n  const handleCheckedRight = () => {\r\n    setRight(right.concat(leftChecked));\r\n    setLeft(not(left, leftChecked));\r\n    setChecked(not(checked, leftChecked));\r\n  };\r\n\r\n  const handleCheckedLeft = () => {\r\n    setLeft(left.concat(rightChecked));\r\n    setRight(not(right, rightChecked));\r\n    setChecked(not(checked, rightChecked));\r\n  };\r\n\r\n  // Add users to left item list ComponentDidMount\r\n  useEffect(() => {\r\n    console.log('Add users left');\r\n    let users = [];\r\n    props.users.map(user => {\r\n      return props.user._id !== user._id && users.push(user);\r\n    });\r\n    setLeft(users);\r\n    console.log(users);\r\n  }, [open]);\r\n\r\n  //   Enable the submit button when 2 or more users are selected, + add current user\r\n  const handleSubmit = (e, selectedUsers) => {\r\n    e.preventDefault();\r\n    console.log(groupName);\r\n    selectedUsers = [...selectedUsers, props.user];\r\n\r\n    if (selectedUsers.length <= 2)\r\n      return dispatch({ type: SET_ERRORS, payload: 'Groep heeft te weinig leden' });\r\n\r\n    selectedUsers.forEach(user => {\r\n      console.log(user._id);\r\n    });\r\n\r\n    props.createChatRoom(\r\n      props.socket,\r\n      groupName,\r\n      props.user._id,\r\n      selectedUsers.map(user => user._id),\r\n    );\r\n\r\n    // When ready\r\n    setGroupName('');\r\n  };\r\n\r\n  const customList = (title, items) => {\r\n    return (\r\n      <Card>\r\n        <CardHeader\r\n          className={classes.cardHeader}\r\n          avatar={\r\n            <Checkbox\r\n              onClick={handleToggleAll(items)}\r\n              checked={numberOfChecked(items) === items.length && items.length !== 0}\r\n              indeterminate={\r\n                numberOfChecked(items) !== items.length && numberOfChecked(items) !== 0\r\n              }\r\n              disabled={items.length === 0}\r\n              inputProps={{ 'aria-label': 'all items selected' }}\r\n            />\r\n          }\r\n          title={title}\r\n          subheader={`${numberOfChecked(items)}/${items.length} geselecteerd`}\r\n        />\r\n        <Divider />\r\n        <List className={classes.list} dense component='div' role='list'>\r\n          {items.map(value => {\r\n            const labelId = `transfer-list-all-item-${value}-label`;\r\n\r\n            return (\r\n              <ListItem key={value._id} role='listitem' button onClick={handleToggle(value)}>\r\n                <ListItemIcon>\r\n                  <Avatar src={value.avatar}></Avatar>\r\n                </ListItemIcon>\r\n                <ListItemText id={labelId} primary={firstCharUpperCase(value.username)} />\r\n                <Checkbox\r\n                  checked={checked.indexOf(value) !== -1}\r\n                  tabIndex={-1}\r\n                  disableRipple\r\n                  inputProps={{ 'aria-labelledby': labelId }}\r\n                />\r\n              </ListItem>\r\n            );\r\n          })}\r\n          <ListItem />\r\n        </List>\r\n      </Card>\r\n    );\r\n  };\r\n\r\n  const modalBody = (\r\n    <>\r\n      <Grid container spacing={2} justify='center' alignItems='center' className={classes.root}>\r\n        <Grid item>{customList('Selecteer min 2 & max 9 leden', left)}</Grid>\r\n        <Grid item>\r\n          <Grid container direction='column' alignItems='center'>\r\n            <Button\r\n              variant='outlined'\r\n              size='small'\r\n              className={classes.button}\r\n              onClick={handleCheckedRight}\r\n              disabled={leftChecked.length === 0}\r\n              aria-label='move selected right'>\r\n              &gt;\r\n            </Button>\r\n            <Button\r\n              variant='outlined'\r\n              size='small'\r\n              className={classes.button}\r\n              onClick={handleCheckedLeft}\r\n              disabled={rightChecked.length === 0}\r\n              aria-label='move selected left'>\r\n              &lt;\r\n            </Button>\r\n          </Grid>\r\n        </Grid>\r\n        <Grid item>{customList('Geselecteerd', right)}</Grid>\r\n      </Grid>\r\n\r\n      {/* Form */}\r\n      <form\r\n        onSubmit={e => {\r\n          console.log('submit create group');\r\n          handleSubmit(e, right);\r\n        }}\r\n        className={classes.input}\r\n        noValidate\r\n        autoComplete='off'>\r\n        <TextField\r\n          value={groupName}\r\n          onChange={e => {\r\n            dispatch({ type: CLEAR_ERRORS });\r\n            setGroupName(e.target.value);\r\n          }}\r\n          id='standard-basic'\r\n          label='Groepsnaam'\r\n          error={props.errors && props.errors.length > 0 ? true : false}\r\n          helperText={\r\n            props.errors && props.errors.length > 0 ? props.errors[props.errors.length - 1] : ''\r\n          }\r\n        />\r\n        <Button\r\n          disabled={right.length > 1 ? false : true}\r\n          onClick={e => {\r\n            console.log('submit create group');\r\n            handleSubmit(e, right);\r\n          }}\r\n          variant='contained'\r\n          color='primary'>\r\n          Groep Aanmaken\r\n        </Button>\r\n      </form>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <Grid item xs={4}>\r\n        <ListItem\r\n          button\r\n          onClick={e => {\r\n            console.log('createNewGroup Modal');\r\n            handleOpen();\r\n            // toggle open modal with transfer list\r\n            // Select users inside the transfer list (max?)\r\n            // createGroup.then(close modal)\r\n            // Render new group (for all members?)\r\n          }}>\r\n          <ListItemText style={{ textAlign: 'center' }}>\r\n            <Tooltip title='Nieuwe Groep Maken' placement='top-start' arrow interactive>\r\n              {/* Add Group */}\r\n              {props.theme === 'dark' ? <GroupAddIcon /> : <GroupAddIcon color='primary' />}\r\n            </Tooltip>\r\n          </ListItemText>\r\n        </ListItem>\r\n      </Grid>\r\n\r\n      <div>\r\n        <Modal\r\n          className={classes.modal}\r\n          open={open}\r\n          onClose={handleClose}\r\n          aria-labelledby='simple-modal-title'\r\n          aria-describedby='simple-modal-description'>\r\n          {modalBody}\r\n        </Modal>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    socket: state.socket.socket,\r\n    user: state.user.user,\r\n    users: state.user.users,\r\n    errors: state.user.errors,\r\n    theme: state.theme.theme,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { createChatRoom })(CreateGroupModal);\r\n","C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\util\\StyledBadge.js",[],"C:\\Users\\Mickey.DNK\\Desktop\\MERN-chat-socket.io\\frontend\\src\\Components\\GroupChat.js",["156","157"],{"ruleId":"158","replacedBy":"159"},{"ruleId":"160","replacedBy":"161"},{"ruleId":"162","severity":1,"message":"163","line":87,"column":6,"nodeType":"164","endLine":87,"endColumn":66,"suggestions":"165"},{"ruleId":"162","severity":1,"message":"166","line":59,"column":6,"nodeType":"164","endLine":59,"endColumn":55,"suggestions":"167"},{"ruleId":"168","severity":1,"message":"169","line":208,"column":29,"nodeType":"170","messageId":"171","endLine":208,"endColumn":31},{"ruleId":"168","severity":1,"message":"169","line":236,"column":29,"nodeType":"170","messageId":"171","endLine":236,"endColumn":31},{"ruleId":"172","severity":1,"message":"173","line":133,"column":13,"nodeType":"174","messageId":"175","endLine":133,"endColumn":21},{"ruleId":"162","severity":1,"message":"176","line":156,"column":6,"nodeType":"164","endLine":163,"endColumn":4,"suggestions":"177"},{"ruleId":"162","severity":1,"message":"178","line":67,"column":6,"nodeType":"164","endLine":67,"endColumn":8,"suggestions":"179"},{"ruleId":"172","severity":1,"message":"173","line":105,"column":13,"nodeType":"174","messageId":"175","endLine":105,"endColumn":21},{"ruleId":"172","severity":1,"message":"180","line":147,"column":7,"nodeType":"174","messageId":"175","endLine":147,"endColumn":26},{"ruleId":"172","severity":1,"message":"181","line":148,"column":7,"nodeType":"174","messageId":"175","endLine":148,"endColumn":21},{"ruleId":"168","severity":1,"message":"169","line":195,"column":28,"nodeType":"170","messageId":"171","endLine":195,"endColumn":30},{"ruleId":"168","severity":1,"message":"169","line":196,"column":35,"nodeType":"170","messageId":"171","endLine":196,"endColumn":37},{"ruleId":"168","severity":1,"message":"169","line":197,"column":46,"nodeType":"170","messageId":"171","endLine":197,"endColumn":48},{"ruleId":"172","severity":1,"message":"173","line":302,"column":31,"nodeType":"174","messageId":"175","endLine":302,"endColumn":39},{"ruleId":"172","severity":1,"message":"173","line":348,"column":31,"nodeType":"174","messageId":"175","endLine":348,"endColumn":39},{"ruleId":"168","severity":1,"message":"169","line":158,"column":40,"nodeType":"170","messageId":"171","endLine":158,"endColumn":42},{"ruleId":"162","severity":1,"message":"182","line":172,"column":6,"nodeType":"164","endLine":172,"endColumn":12,"suggestions":"183"},{"ruleId":"168","severity":1,"message":"169","line":188,"column":42,"nodeType":"170","messageId":"171","endLine":188,"endColumn":44},{"ruleId":"168","severity":1,"message":"184","line":190,"column":56,"nodeType":"170","messageId":"171","endLine":190,"endColumn":58},{"ruleId":"162","severity":1,"message":"185","line":236,"column":6,"nodeType":"164","endLine":236,"endColumn":23,"suggestions":"186"},{"ruleId":"172","severity":1,"message":"187","line":3,"column":10,"nodeType":"174","messageId":"175","endLine":3,"endColumn":23},{"ruleId":"162","severity":1,"message":"188","line":140,"column":6,"nodeType":"164","endLine":140,"endColumn":12,"suggestions":"189"},{"ruleId":"162","severity":1,"message":"185","line":43,"column":6,"nodeType":"164","endLine":43,"endColumn":23,"suggestions":"190"},{"ruleId":"172","severity":1,"message":"173","line":55,"column":13,"nodeType":"174","messageId":"175","endLine":55,"endColumn":21},"no-native-reassign",["191"],"no-negated-in-lhs",["192"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["193"],"React Hook useEffect has a missing dependency: 'skip'. Either include it or remove the dependency array.",["194"],"array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","no-unused-vars","'memberId' is assigned a value but never used.","Identifier","unusedVar","React Hook useEffect has missing dependencies: 'dispatch', 'getAllUnreadMessages', 'getAllUserChatRooms', 'markMessagesRead', 'props.activeChatRoom._id', 'props.activeChatRoom.members', and 'user._id'. Either include them or remove the dependency array.",["195"],"React Hook useEffect has a missing dependency: 'props'. Either include it or remove the dependency array. However, 'props' will change when *any* prop changes, so the preferred fix is to destructure the 'props' object outside of the useEffect call and refer to those specific props inside useEffect.",["196"],"'totalUnreadMessages' is assigned a value but never used.","'unreadMessages' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'props.activeChatRoom.members' and 'props.users'. Either include them or remove the dependency array.",["197"],"Array.prototype.findIndex() expects a return value from arrow function.","React Hook useEffect has missing dependencies: 'dispatch' and 'socket'. Either include them or remove the dependency array.",["198"],"'hasDuplicates' is defined but never used.","React Hook useEffect has missing dependencies: 'props.user._id' and 'props.users'. Either include them or remove the dependency array.",["199"],["200"],"no-global-assign","no-unsafe-negation",{"desc":"201","fix":"202"},{"desc":"203","fix":"204"},{"desc":"205","fix":"206"},{"desc":"207","fix":"208"},{"desc":"209","fix":"210"},{"desc":"211","fix":"212"},{"desc":"213","fix":"214"},{"desc":"211","fix":"215"},"Update the dependencies array to be: [updateConnectedUserList, socket, user, getAllUserChatRooms, dispatch]",{"range":"216","text":"217"},"Update the dependencies array to be: [props.activeChatRoom, props.chatMessages.length, skip]",{"range":"218","text":"219"},"Update the dependencies array to be: [props.chatMessages.length, socket, activeChatRoom, emitCreateChatMessageFromServerToAllClients, emitLastChatMessage, emitDeleteChatMessageFromServerToAllClients, getAllUserChatRooms, user._id, getAllUnreadMessages, dispatch, props.activeChatRoom._id, props.activeChatRoom.members, markMessagesRead]",{"range":"220","text":"221"},"Update the dependencies array to be: [props]",{"range":"222","text":"223"},"Update the dependencies array to be: [open, props.activeChatRoom.members, props.users]",{"range":"224","text":"225"},"Update the dependencies array to be: [dispatch, props.chatRooms, socket]",{"range":"226","text":"227"},"Update the dependencies array to be: [open, props.user._id, props.users]",{"range":"228","text":"229"},{"range":"230","text":"227"},[3038,3098],"[updateConnectedUserList, socket, user, getAllUserChatRooms, dispatch]",[1584,1633],"[props.activeChatRoom, props.chatMessages.length, skip]",[5628,5826],"[props.chatMessages.length, socket, activeChatRoom, emitCreateChatMessageFromServerToAllClients, emitLastChatMessage, emitDeleteChatMessageFromServerToAllClients, getAllUserChatRooms, user._id, getAllUnreadMessages, dispatch, props.activeChatRoom._id, props.activeChatRoom.members, markMessagesRead]",[2463,2465],"[props]",[4700,4706],"[open, props.activeChatRoom.members, props.users]",[6833,6850],"[dispatch, props.chatRooms, socket]",[3832,3838],"[open, props.user._id, props.users]",[1283,1300]]